<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>찜한상품</title>
    <link rel="stylesheet" href="/member/css/myPageLike.css">
    <link rel="stylesheet" href="/main/css/header.css">
    <link rel="stylesheet" href="/main/css/footer.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
</head>
<body>
    <!-- 헤더시작 -->
    <header th:replace="main/header.html" :: h></header>
    <!-- 마이페이지 고정 틀 start -->
    <div class="mypageWrap">
        <div class="mypageHeader">
            <div class="headerTop">
                <div class="header1">
                    <div class="headerInfo">
                        <div class="headerGrade">회원</div>
                        <div class="headerName">
                            <strong class="headerRname">
                                황재승님
                            </strong>
                        </div>
                    </div>
                    <div class="savingPercent">
                        <p class="savingPercent">적립 1%</p>
                    </div>
                    <div class="seeGrade">
                        <button class="seeAll"><a href="/member/mypageReview">상품 후기</a></button>
                        <button class="seeNext"><a href="/member/mypageEpi">개인 정보 수정</a></button>
                    </div>
                </div>
                <div class="header2">
                    <button class="savingMoney">
                        <div class="savingMoney">
                            적립금
                            <span class="savingMoney"></span>
                        </div>
                        <div class="savingDetail">
                            25
                            <span class="savingDetail">원</span>
                        </div>
                        <div class="savingChange">
                            소멸예정 0원
                        </div>
                    </button>
                </div>
                <div class="header3">
                    <button class="coupon">
                        <div class="couponName">
                            찜한 상품
                            <span class="couponName"></span>
                        </div>
                        <div class="couponCount">
                            1
                            <span class="couponCount">개</span>
                        </div>
                        <div class="savingChange">찜한 상품을 장바구니에 담아보세요!</div>
                    </button>
                </div>
            </div>
            <a href="https://www.kurly.com/shop/event/kurlyEvent.php?htmid=event/2022/1107/beauty_grand" class="ad">
                <img class="ad" src="https://product-image.kurly.com/banner/da-banner/0ad4b09b-7fc1-4bb2-be70-65a089d266d5.jpg"
                     alt="">
            </a>
        </div>
        <div class="mypageBottom">
            <div class="mypageBottomLeft">
                <div class="leftTitle">마이컬리</div>
                <ul class="leftList">
                    <li class="orderList">
                        <a href="/member/mypage" class="orderList">
                            주문 내역
                            <span class="orderList"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageLike" class="orderList2">
                            찜한 상품
                            <span class="orderList2"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageDelivery" class="orderList3">
                            배송지 관리
                            <span class="orderList3"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageReview" class="orderList4">
                            상품후기
                            <span class="orderList4"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageSaving" class="orderList6">
                            적립금
                            <span class="orderList6"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageEpi" class="orderList8">
                            개인 정보 수정
                            <span class="orderList8"></span>
                        </a>
                    </li>
                </ul>

            </div>
            <!-- 마이페이지 고정 틀 end -->
            <div class="bottomRight">
                <div class="bottomRightHeader">
                    <div class="brhLeft">
                        <h2 class="brhLeft">
                            찜한상품(1)
                        </h2>
                        <span class="brhLeft">
                            찜한 상품은 최대 200개까지 저장됩니다.
                        </span>
                    </div>
                </div>
                <div class="brhLine"></div>
                <div class="likeGoods">
                    <div class="likeGoodsList">
                        <a href="" class="likeGoods">
                            <span class="likeGoodsImg"></span>
                        </a>
                        <div class="likeGoodsInfo">
                            <div class="infoLeft">
                                <div class="leftName">
                                    <a href="" class="leftName">[굽네] 닭가슴살 만두 3종</a>
                                </div>
                                <div class="leftPrice">
                                    <span class="leftPrice">2,450원</span>
                                </div>
                            </div>
                            <div class="infoRight">
                                <button class="infoRight" type="button" width="104" height="36" radius="4">
                                    <span class="infoRight">삭제</span>
                                </button>
                                <button class="infoRight2" type="button" width="104" height="36" radius="4">
                                    <span class="infoRight2">

                                        담기</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
<!--        <div class="modal">-->
<!--            <div class="modal_content" -->
<!--                 title="클릭하면 창이 닫힙니다.">-->
<!--              <div class="modalText">삭제하시겠습니까?</div>-->
<!--              <div class="modalFooter">-->
<!--                <button class="cancel">취소</button>-->
<!--                <button class="remove">삭제</button>-->
<!--              </div>-->
<!--            </div>-->
<!--        </div>-->
        <!--modal-->
        <form id="modalClear">
            <div class="modalContainer" >
                <div class="modalBox">
                    <div class="modal">
                        <div class="modalBody">
                            <div class="modalWrapper">
                                <div class="modalContent">
                                    <div class="modalProductName">
                                        <span>[KF365] 양념 소불고기 1kg(냉장)</span>
                                    </div>
                                </div>
                                <div class="priceAndCount">
                                    <div>
                          <span class="discountBox">
                              17,590원
                          </span>
                                        <span class="priceBox">
                              18,990원
                          </span>
                                    </div>
                                    <div class="product_cnt_box">
                                        <button class="minus"></button>
                                        <div class="cnt">1</div>
                                        <button class="plus"></button>
                                    </div>
                                </div>
                                <div class="totalPriceBox">
                                    <div class="totalPriceInner">
                                        <div class="totalLine">
                                            <p>
                                                합계
                                            </p>
                                            <div>
                                                <span class="changePrice">17,590</span>
                                                <span class="totalWon">원</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="pointBox">
                                        <span class="pointText">적립</span>
                                        <span class="pointCalText">구매 시
                                  <span class="realPoint">0원 적립
                                  </span>
                              </span>
                                    </div>
                                </div>
                                <div class="modalButtonBox">
                                    <button class="modalCancelButton" type="button">
                                        <span class="modalButtonText">취소</span>
                                    </button>
                                    <button type="button" class="modalOkButton">
                                        <span class="modalButtonText">장바구니 담기</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <!--modal end-->
        </div>
</body>
        <!--푸터-->
<footer th:replace="main/footer.html" :: f></footer>
        <!-- <div id="modal1" class="modal">
            <p>모달창안의 내용부분</p>
            <a href="#" rel="modal:close">닫기</a>
          </div>
          
          <p><a href="#modal1" rel="modal:open">모달창띄우기</a></p> -->
</html>
<script src="/main/js/header.js"></script>
<!--<script src="/memeber/js/mypageLike.js"></script>-->
<script>
/*삭제버튼*/
$("button.infoRight").click(function () {
    $(this).parent().parent().parent().remove();
});



var blankUrl = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0yNS44MDcgNy44NjNhNS43NzcgNS43NzcgMCAwIDAtOC4xNzIgMEwxNiA5LjQ5N2wtMS42MzUtMS42MzRhNS43NzkgNS43NzkgMCAxIDAtOC4xNzMgOC4xNzJsMS42MzQgMS42MzQgNy40NjYgNy40NjdhMSAxIDAgMCAwIDEuNDE1IDBzMCAwIDAgMGw3LjQ2Ni03LjQ2N2gwbDEuNjM0LTEuNjM0YTUuNzc3IDUuNzc3IDAgMCAwIDAtOC4xNzJ6IiBzdHJva2U9IiM1RjAwODAiIHN0cm9rZS13aWR0aD0iMS42IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K';
var fullUrl = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0yNS44MDcgNy44NjNhNS43NzcgNS43NzcgMCAwIDAtOC4xNzIgMEwxNiA5LjQ5N2wtMS42MzUtMS42MzRhNS43NzkgNS43NzkgMCAxIDAtOC4xNzMgOC4xNzJsMS42MzQgMS42MzQgNy40NjYgNy40NjdhMSAxIDAgMCAwIDEuNDE1IDBzMCAwIDAgMGw3LjQ2Ni03LjQ2N2gwbDEuNjM0LTEuNjM0YTUuNzc3IDUuNzc3IDAgMCAwIDAtOC4xNzJ6IiBmaWxsPSIjRkY1QTVBIiBzdHJva2U9IiNGRjVBNUEiIHN0cm9rZS13aWR0aD0iMS42IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K';

function inWishList(){
    $('img.blankHeart').attr('src', fullUrl);
}

function outWishList(){
    $('img.blankHeart').attr('src', blankUrl);
}

function checkHeart(){
    var src = $('img.blankHeart').attr('src');
    console.log(src);
    if(src==blankUrl){
        inWishList();
    }else{
        outWishList();
    }
}

$('button.heart_button').on('click', function(){
    console.log('클릭');
    checkHeart();
});


// 상품 수량 변경 박스

function countUp(){
    var nowCount = $('div.cnt').text();
    var plusCount = (Number(nowCount)) + 1;

    $('div.cnt').text(plusCount);

    // 가격 변경 함수 호출
    priceChange();
}

function countDown(){
    var nowCount = $('div.cnt').text();
    var minusCount = (Number(nowCount)) - 1;

    $('div.cnt').text(minusCount);

    // 가격 변경 함수 호출
    priceChange();
}

function countReset(){
    var nowCount = $('div.cnt').text();
    var minusReset = (((Number(nowCount))) -((Number(nowCount))- 1));

    $('div.cnt').text(minusReset);

    // 가격 변경 함수 호출
    priceChange();
}

// +버튼 클릭시, 수량이 2이상이면 -버튼 활성화
$('button.plus').on('click',function(){
    $('button.minus').css({"background":"url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0yMCAxNHYySDEwdi0yeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+Cjwvc3ZnPgo=)"});
    countUp();
});

// -버튼 클릭시, 수량이 1이면 -버튼 다시 비활성화
$('button.minus').on('click',function(){
    if(Number($('div.cnt').text()) > 1){
        countDown();
        if(Number($('div.cnt').text()) == 1){
            $('button.minus').css({"background":"url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0yMCAxNHYySDEwdi0yeiIgZmlsbD0iI0RERCIgZmlsbC1ydWxlPSJub256ZXJvIi8+Cjwvc3ZnPgo=)"});
        }
    }

});


// 천단위 콤마 없애고 숫자로 변경
var productPrice = Number($('span.changePrice').text().replace(",", ""));

function priceChange(){
    var productCount = Number($('div.cnt').text());

    // 총 상품가격 구하기
    var realPrice = productCount * productPrice;
    // toLocaleString()으로 천단위 콤마 찍어서 text에 출력
    $('span.changePrice').text(realPrice.toLocaleString());

}


// 장바구니 이미지 클릭시 모달창
$('div.modalContainer').hide();
$('button.infoRight2').on('click', function(event){
    event.stopPropagation();
    $("div.modalContainer").fadeIn();
});

$('button.modalOkButton').on('click', function(){
    $('div.modalContainer').hide();
    countReset();
    alert('장바구니에 상품이 추가되었습니다.');
});

$('button.modalCancelButton').on('click',function(){
    $('div.modalContainer').hide();
    countReset();
});

</script>


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" /> -->
        
                