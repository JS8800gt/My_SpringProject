<!-- Epi = Edit personal information -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>찜한상품</title>
    <link rel="stylesheet" href="/member/css/myPageEpi.css">
    <link rel="stylesheet" href="/main/css/header.css">
    <link rel="stylesheet" href="/main/css/footer.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
</head>
<body>
    <!-- 헤더시작 -->
    <header th:replace="main/header.html" :: h></header>
    <!-- 마이페이지 고정 틀 start -->
    <div class="mypageWrap">
        <div th:replace="/member/mypageHeader.html" :: myh></div>
        <div class="mypageBottom">
            <div class="mypageBottomLeft">
                <div class="leftTitle">마이컬리</div>
                <ul class="leftList">
                    <li class="orderList">
                        <a href="/member/mypage" class="orderList">
                            주문 내역
                            <span class="orderList"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageLike" class="orderList2">
                            찜한 상품
                            <span class="orderList2"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageDelivery" class="orderList3">
                            배송지 관리
                            <span class="orderList3"></span>
                        </a>
                    </li>
<!--                    <li class="orderList">-->
<!--                        <a href="/member/mypageReview" class="orderList4">-->
<!--                            상품후기-->
<!--                            <span class="orderList4"></span>-->
<!--                        </a>-->
<!--                    </li>-->
                    <li class="orderList">
                        <a href="/member/mypageSaving" class="orderList6">
                            적립금
                            <span class="orderList6"></span>
                        </a>
                    </li>
                    <li class="orderList">
                        <a href="/member/mypageEpi" class="orderList8">
                            개인 정보 수정
                            <span class="orderList8"></span>
                        </a>
                    </li>
                </ul>

            </div>
            <!-- 마이페이지 고정 틀 end -->
            <div class="bottomRight">
                <div class="bottomRightHeader">
                    <div class="brhLeft">
                        <h2 class="brhLeft">
                            개인 정보 수정
                        </h2>
                    </div>
                </div>
                <span class="brhLeft">
                    비밀번호 재확인
                </span>
                <div>
                <span class="brhLeft2">
                    회원님의 정보를 안전하게 보호하기 위해 비밀번호를 다시 한번 확인해주세요.
                </span>
                </div>
                <div class="brhLine"></div>
                <form th:action="@{/member/mypageEpiModify}" name="pwCheckOkForm">
                    <div class="confirmWrap">
                        <div class="confirmTop">
                            <div class="confirmId">
                                <label for="userId" class="confirmId">아이디</label>
                            </div>
                            <div class="confirmId2">
                                <input type="text" class="confirmId2" id="userId" name="userId" data-testid="input-box" th:value="${member.memberId}" readonly>
                            </div>
                        </div>
                        <div class="confirmTop2">
                            <div class="confirmPw">
                                <label for="password" class="confirmPw">비밀번호</label>
                            </div>
                            <div class="confirmPw2">
                                <input type="password" class="confirmPw2" data-testid="input-box" id="password" autocomplete="off" placeholder="현재 비밀번호를 입력해주세요">
                            </div>
                        </div>
                        
                    </div>
                    <div class="confirmBottom">
                        <button class="confirmBtn" type="submit" width="240" height="56" radius="3">
                            <span class="confirmBtn">확인</span>
                        </button>
                    </div>
                </form>
                </div>
                </div>
                </div>

    <!--푸터 시작-->
    <footer th:replace="main/footer.html" :: f></footer>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/main/js/header.js"></script>
<script>
    let memberPw = "[[${member.memberPw}]]";

    $(".confirmBtn").on("click", function(e){
        e.preventDefault();
        let inputPw = $("#password").val();
        if(memberPw == inputPw){
            pwCheckOkForm.submit();
        } else {
            alert("비밀번호를 일치하지 않습니다. 다시 입력해주세요.");
        }
    });
</script>
</html>

